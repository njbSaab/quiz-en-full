<div class="image-upload w-full h-full">
    <div
      class="upload-drop-zone min-h-[65dvh] flex items-center justify-center"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
      [class.dragover]="isDragOver"
      (click)="triggerFileInput()"
    >
      <div
        *ngIf="!selectedFile"
        class="text flex flex-col items-center justify-start h-[65dvh] cursor-copy"
      >
        <p class="text-2xl font-bold text-indigo-400">Кликните здесь</p>
        <p class="text-lg text-gray-600 font-semibold text-center">
          Чтоб вставить картинку нужно кликнуть здесь либо перетащите изображение
          в этот блок
        </p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-[200px] h-full mt-4 text-gray-200"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="m10.21 16.83l-1.96-2.36L5.5 18h11l-3.54-4.71z"
          />
          <path
            fill="currentColor"
            d="M16.5 18h-11l2.75-3.53l1.96 2.36l2.75-3.54zM17 7h-3V6H4v14h14V10h-1z"
            opacity=".3"
          />
          <path
            fill="currentColor"
            d="M20 4V1h-2v3h-3v2h3v2.99h2V6h3V4zm-2 16H4V6h10V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V10h-2z"
          />
        </svg>
      </div>
      <img
        *ngIf="previewUrl"
        [src]="previewUrl"
        alt="Preview"
        class="preview-image max-h-[200px]"
      />
      <input
        type="file"
        accept=".jpeg,.jpg,.png,.svg,.webp,.gif"
        (change)="onFileSelected($event)"
        hidden
      />
    </div>
    <button
      (click)="uploadFile()"
      [disabled]="!selectedFile"
      class="w-full mt-4 btn btn-success"
    >
      Загрузить
    </button>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="100"
      class="h-auto flex mx-auto cursor-s-resize"
      viewBox="0 0 24 24"
      (click)="scrollDown()"
    >
      <g
        fill="none"
        stroke="#4F45E5"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
      >
        <path
          fill="#4F45E5"
          fill-opacity="0"
          stroke-dasharray="20"
          stroke-dashoffset="20"
          d="M12 4h2v6h2.5l-4.5 4.5M12 4h-2v6h-2.5l4.5 4.5"
        >
          <animate
            attributeName="d"
            begin="0.5s"
            dur="1.5s"
            repeatCount="indefinite"
            values="M12 4h2v6h2.5l-4.5 4.5M12 4h-2v6h-2.5l4.5 4.5;M12 4h2v3h2.5l-4.5 4.5M12 4h-2v3h-2.5l4.5 4.5;M12 4h2v6h2.5l-4.5 4.5M12 4h-2v6h-2.5l4.5 4.5"
          />
          <animate
            fill="freeze"
            attributeName="fill-opacity"
            begin="0.7s"
            dur="0.5s"
            values="0;1"
          />
          <animate
            fill="freeze"
            attributeName="stroke-dashoffset"
            dur="0.4s"
            values="20;0"
          />
        </path>
      </g>
    </svg>
  
    <div *ngIf="successMessage" class="alert alert-success mt-4">
      <b>{{ successMessage }}</b>
      <span class="close" (click)="clearMessages()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="36"
          height="36"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"
          />
        </svg>
      </span>
    </div>
  
    <div *ngIf="errorMessage" class="alert alert-error mt-4">
      {{ errorMessage }}
      <span class="close" (click)="clearMessages()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="36"
          height="36"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10s10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8m3.59-13L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41z"
          />
        </svg>
      </span>
    </div>
  </div>
  