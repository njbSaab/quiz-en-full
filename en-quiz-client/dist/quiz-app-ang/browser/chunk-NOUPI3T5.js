import{c as Y,d as G,f as v,g as H,h as U,i as J,m as K}from"./chunk-HMMR6A53.js";import{a as Z,f as ee}from"./chunk-EDUUORZK.js";import{a as W}from"./chunk-D2FFKYMU.js";import{a as X}from"./chunk-4IUZEY4L.js";import{$ as Q,A as _,B as h,C as b,Ca as V,Da as j,Ea as D,Fa as B,Ga as N,K as y,L as a,M as d,R as p,S as O,T as n,Va as R,W as o,X as r,Xa as $,Y as m,Z as x,_ as C,aa as S,ba as c,ca as P,da as I,ha as E,ia as u,ja as g,ma as F,na as f,ra as L,sa as T,t as w,ta as A,va as k,w as q,x as M}from"./chunk-Y475WE7D.js";var ne=t=>({"h-space":t}),oe=t=>["/quiz",t],re=()=>[1,2,3,4,5],ae=t=>({filled:t});function se(t,l){if(t&1){let e=Q();x(0),o(1,"app-banner",4),S("close",function(){_(e);let s=c();return h(s.hideBanner())})("showAll",function(){_(e);let s=c();return h(s.showAllQuizzes())}),r(),C()}if(t&2){let e=c();a(),n("quizCount",e.quizzes.length)("page",e.page)}}function le(t,l){if(t&1&&m(0,"img",20),t&2){let e=c().$implicit;P("alt",e.title),n("src",e.previewImage,y)}}function ce(t,l){if(t&1&&m(0,"input",21),t&2){let e=l.index,i=c().$implicit;I("name","rating-",i.id,""),n("ngClass",f(3,ae,e<(i.rating||0)))}}function pe(t,l){if(t&1&&(o(0,"div",8)(1,"figure"),p(2,le,1,2,"img",9),r(),o(3,"div",10)(4,"div",11)(5,"span",12),u(6),L(7,"date"),r(),o(8,"div",13),p(9,ce,1,5,"input",14),r()(),o(10,"h2",15),u(11),r(),o(12,"p"),u(13),r()(),o(14,"div",16)(15,"button",17)(16,"span"),b(),o(17,"svg",18),m(18,"path",19),r()(),u(19," Start Now \u{1F929} "),r()()()),t&2){let e=l.$implicit;n("routerLink",f(11,oe,e.id)),O("data-gtm-quiz-id",e.id)("data-gtm-title",e.title)("data-gtm-action","click_card"),a(2),n("ngIf",e.previewImage),a(4),g(T(7,9,e.createdAt)),a(3),n("ngForOf",F(13,re)),a(2),g(e.title),a(2),g(e.description)}}function de(t,l){if(t&1&&(x(0),o(1,"div",5)(2,"div",6),p(3,pe,20,14,"div",7),r()(),C()),t&2){let e=c();a(2),n("@listAnimation",void 0),a(),n("ngForOf",e.filteredQuizzes)}}function me(t,l){t&1&&(o(0,"div",22),m(1,"span",23)(2,"span",24),r())}var te=(()=>{class t{quizService;cdr;scrollTop;pagesService;quizzes=[];isvisible=!0;filteredQuizzes=[];showAll=!1;page=null;constructor(e,i,s,z){this.quizService=e,this.cdr=i,this.scrollTop=s,this.pagesService=z}ngOnInit(){this.scrollTop.toTop(),this.loadQuizzes(),this.pagesService.getHome().subscribe(e=>{this.page=e})}loadQuizzes(){this.quizService.getQuizzes().subscribe({next:e=>{this.quizzes=e.filter(i=>i.isActive),this.updateFilteredQuizzes()},error:e=>console.error("\u274C \u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043A\u0432\u0438\u0437\u043E\u0432:",e)})}updateFilteredQuizzes(){console.log("\u0412\u0441\u0435 \u043A\u0432\u0438\u0437\u044B:",this.quizzes),this.showAll?(this.filteredQuizzes=[...this.quizzes],console.log("\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0435\u043C \u0412\u0421\u0415:",this.filteredQuizzes.length)):(this.filteredQuizzes=this.quizzes.filter(e=>{let i=!!e.isMainView;return console.log(`\u041A\u0432\u0438\u0437 "${e.title}" \u2192 isMainView =`,e.isMainView,"\u2192 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0435\u043C?",i),i}),console.log("\u041F\u043E\u0441\u043B\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u0430 isMainView:",this.filteredQuizzes.length)),this.cdr.markForCheck()}showAllQuizzes(){this.showAll=!0,this.updateFilteredQuizzes(),this.hideBanner()}hideBanner(){this.isvisible=!1}static \u0275fac=function(i){return new(i||t)(d(K),d(k),d(W),d(X))};static \u0275cmp=q({type:t,selectors:[["app-quiz-list"]],decls:5,vars:6,consts:[["loading",""],[4,"ngIf"],[1,"quiz-list","mx-w-1200",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"close","showAll","quizCount","page"],[1,"bg-gradient-to-b","from-fuchsia-500","to-cyan-400","rounded-box","py-0","md:py-5"],[1,"quiz-list-wrapper","grid","grid-cols-1","lg:grid-cols-3"],["class","card quiz-item bg-card-gradient max-w-[450px] mx-auto w-full","data-gtm-card","",3,"routerLink",4,"ngFor","ngForOf"],["data-gtm-card","",1,"card","quiz-item","bg-card-gradient","max-w-[450px]","mx-auto","w-full",3,"routerLink"],[3,"src","alt",4,"ngIf"],[1,"card-body"],[1,"card-body-header","flex","justify-between","items-center"],[1,"text-sm","text-green-400"],[1,"rating"],["type","radio","class","mask mask-star bg-red-v",3,"name","ngClass",4,"ngFor","ngForOf"],[1,"card-title"],[1,"card-actions","justify-end","card-footer"],[1,"btn","btn-accent","btn-card","text-base-200"],["xmlns","http://www.w3.org/2000/svg","width","32","height","32","viewBox","0 0 24 24",1,"h-10","w-10","fill-current"],["d","M8 5v14l11-7z"],[3,"src","alt"],["type","radio",1,"mask","mask-star","bg-red-v",3,"name","ngClass"],[1,"loading-container","text-center","h-screen"],[1,"loading","loading-ring","text-accent","loading-xl"],[1,"loading","loading-ring","text-regular","loading-md"]],template:function(i,s){if(i&1&&(p(0,se,2,2,"ng-container",1),o(1,"div",2),p(2,de,4,2,"ng-container",3)(3,me,3,0,"ng-template",null,0,A),r()),i&2){let z=E(4);n("ngIf",s.isvisible),a(),n("ngClass",f(4,ne,!s.isvisible)),a(),n("ngIf",s.quizzes==null?null:s.quizzes.length)("ngIfElse",z)}},dependencies:[V,j,D,Z,R,B],styles:[".quiz-list[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto}.quiz-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 0 3em #fff,0 0 6em #f5f5f5;cursor:pointer;transition:.3s ease-in-out;z-index:1}.quiz-list[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active{transform:scale(.98);transition:.1s ease-in-out}.quiz-list[_ngcontent-%COMP%]   .quiz-list-wrapper[_ngcontent-%COMP%]{gap:10px;width:100%;margin:0 auto;padding:40px}.quiz-list[_ngcontent-%COMP%]   .quiz-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:300px}.quiz-list[_ngcontent-%COMP%]   .quiz-item[_ngcontent-%COMP%]{flex:33%}.quiz-list[_ngcontent-%COMP%]   .btn-card[_ngcontent-%COMP%]{width:100%;border-radius:0 0 15px 15px}.quiz-list[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active:focus{transform:none}.quiz-list[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:auto}@media (max-width: 1024px){.quiz-list[_ngcontent-%COMP%]   .quiz-list-wrapper[_ngcontent-%COMP%]{padding:20px 10px}}"],data:{animation:[Y("listAnimation",[H(":enter",[U(".quiz-item",[v({opacity:0,transform:"translateY(20px)"}),J(100,[G("500ms ease-out",v({opacity:1,transform:"translateY(0)"}))])],{optional:!0})])])]}})}return t})();var ue=[{path:"",component:te}],ye=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=M({type:t});static \u0275inj=w({imports:[N,ee,$.forChild(ue)]})}return t})();export{ye as a};
