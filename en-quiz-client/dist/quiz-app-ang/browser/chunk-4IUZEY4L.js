import{Ia as p,Ya as m,i as n,j as a,n as i,p as c,s,v as h}from"./chunk-Y475WE7D.js";var P=(()=>{class r{http;apiUrl=m.apiUrl+"/pages";cache=new Map;constructor(t){this.http=t}getPage(t){return this.cache.has(t)?n(this.cache.get(t)):this.http.get(`${this.apiUrl}/${t}`).pipe(a(e=>e.data),a(e=>this.parseContent(e)),c(e=>this.cache.set(t,e)),i(e=>{console.error(`Page "${t}" not found or error:`,e);let o={id:0,slug:t,title:"",content:{},isActive:!1,createdAt:"",updatedAt:""};return this.cache.set(t,o),n(o)}))}getHome(){return this.getPage("home")}getContacts(){return this.getPage("contacts")}getAbout(){return this.getPage("about")}getPrivacy(){return this.getPage("privacy")}getTerms(){return this.getPage("terms")}getFaq(){return this.getPage("faq")}clearCache(){this.cache.clear()}parseContent(t){if(t.content&&typeof t.content=="string")try{t.content=JSON.parse(t.content)}catch{console.warn(`Invalid JSON in page ${t.slug}`),t.content={}}return t}static \u0275fac=function(e){return new(e||r)(h(p))};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{P as a};
